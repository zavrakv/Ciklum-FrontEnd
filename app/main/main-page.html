<div class="container">

        <md-list ng-repeat="farm in vm.farms track by $index" ng-cloak dnd-list="farm.servers">

            <md-switch ng-model="farm.toggle" ng-click="vm.toggleFarmAutorefresh(farm.toggle, $index)">
                Auto-refresh {{ farm.name }}
            </md-switch>

            <md-list-item ng-repeat="server in farm.servers"
                          ng-class="{'selected':vm.farms.selected === server}">

                <p> {{ server.moduleName }} </p>
                <div>
                    Queues: {{ server.queuesHealth }}
                    Thread: {{ server.threadHealth }}
                    DB: {{ server.databaseHealth }}
                </div>

                <md-subheader class="subheader">Auto-refresh {{ server.moduleName }}</md-subheader>
                <md-switch class="md-secondary" ng-model="server.toggle" ng-change="vm.toggleAutorefresh($parent.$index)"></md-switch>
            </md-list-item>

            <md-divider></md-divider>
        </md-list>
</div>
